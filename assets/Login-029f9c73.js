/* empty css             *//* empty css                  */import{c as K,d as Q,r as v,o as X,a as h,b as n,u as e,F as z,e as d,w as f,i,f as W,g as u,v as p,E as U,h as T,j as Y,k as Z,l as g,m as S,t as F,n as L,p as N,s as G,q as $,x as ee,y as le,z as oe,A as se,_ as ae}from"./index-a1bc0b4d.js";const M=K.init({env:"hitwh-innovation-society-c0a6eda"}),y=M.auth({persistence:"none"});M.database();const j=B=>(ee("data-v-c8c2db16"),B=B(),le(),B),te={class:"container"},ne={class:"board"},ie=j(()=>n("div",{class:"left"},null,-1)),de={class:"right"},re={class:"PhoneDiv"},ue={key:0,class:"phoneReg"},pe={class:"CodeDiv"},ce={class:"CodeDiv"},ve=j(()=>n("div",{class:"forgetPassword"},"本次登录将会重置您的密码为上方所设",-1)),me={class:"PhoneDiv"},fe={key:0,class:"phoneReg"},he={class:"CodeDiv"},ge={class:"CodeDiv"},_e={class:"PhoneDiv"},we={key:0,class:"phoneReg"},Ce={class:"CodeDiv"},ye={class:"CodeDiv"},Ve={class:"BtnDiv"},Pe=j(()=>n("div",{class:"tip"},"HitWh创投社",-1)),xe=Q({__name:"Login",setup(B){const A=oe();se();let c=v(""),V=v(""),P=v(""),x=v(""),k=v(""),b=v(""),_=v(""),I=v(""),D=v(""),a=v(0),C=0,H=0,o=v(1),R=/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/,t=v(!1);X(()=>{});function E(r){console.log(r),H?(clearTimeout(H),H=setTimeout(()=>{R.test(r.trim())?t.value=!1:t.value=!0},2e3)):H=setTimeout(()=>{R.test(r.trim())?t.value=!1:t.value=!0},2e3)}function q(){o.value==0&&R.test(c.value.trim())?(t.value=!1,y.sendPhoneCode(c.value).then(r=>{console.log("验证码发送成功"),U({title:"验证码发送成功",message:T("i",{style:"color: teal"},"请注意查收短信，若未收到短信，请在60秒后重试")}),a.value=60,C=setInterval(()=>{a.value--,a.value||clearInterval(C)},1e3)})):o.value==1&&R.test(c.value.trim())?(t.value=!1,y.sendPhoneCode(c.value).then(r=>{console.log("验证码发送成功"),U({title:"验证码发送成功",message:T("i",{style:"color: teal"},"请注意查收短信，若未收到短信，请在60秒后重试")}),a.value=60,C=setInterval(()=>{a.value--,a.value||clearInterval(C)},1e3)})):o.value==3&&R.test(_.value.trim())?(t.value=!1,y.sendPhoneCode(_.value).then(r=>{console.log("验证码发送成功"),U({title:"验证码发送成功",message:T("i",{style:"color: teal"},"请注意查收短信，若未收到短信，请在60秒后重试")}),a.value=60,C=setInterval(()=>{a.value--,a.value||clearInterval(C)},1e3)})):t.value=!0}function O(){o.value==3?y.forceResetPwdByPhoneCode({phoneNumber:_.value,phoneCode:I.value,password:D.value}).then(r=>{console.log("登录成功"),A.push({name:"Home",query:{}})}).catch(r=>{console.log("0",r,"0"),U({title:"修改密码失败",message:T("i",{style:"color: teal"},"您设置的新密码太短或者太弱！")})}):y.signInWithPhoneCodeOrPassword({phoneNumber:c.value,phoneCode:V.value,password:P.value}).then(r=>{console.log("登录成功"),A.push({name:"Home",query:{}})}).catch(r=>{console.log("error",r),U({title:"登录失败",message:T("i",{style:"color: teal"},"请查看手机号或者密码或者验证码是否输入正确")})})}function J(){y.signUpWithPhoneCode(x.value,k.value,b.value).then(r=>{console.log("注册成功",r)}).catch(r=>{console.log("注册失败")})}return(r,s)=>{const w=Y,m=Z;return g(),h("div",te,[n("div",ne,[ie,n("div",de,[e(o)==3?(g(),h(z,{key:0},[n("div",re,[d(m,{modelValue:e(_),"onUpdate:modelValue":s[0]||(s[0]=l=>i(_)?_.value=l:_=l),class:"w-50 m-2",placeholder:"Phone","prefix-icon":e(L),clearable:"",onInput:E},{append:f(()=>[u(d(w,{type:"primary",onClick:q},{default:f(()=>[S("getCode")]),_:1},512),[[p,!e(a)]]),u(n("span",null,F(e(a)),513),[[p,e(a)]])]),_:1},8,["modelValue","prefix-icon"]),e(t)?(g(),h("div",ue,"请检查手机号是否合规")):W("",!0)]),n("div",pe,[d(m,{type:"Code",modelValue:e(I),"onUpdate:modelValue":s[1]||(s[1]=l=>i(I)?I.value=l:I=l),class:"w-50 m-2",placeholder:"Code","prefix-icon":e(N),"show-password":"",clearable:""},null,8,["modelValue","prefix-icon"])]),n("div",ce,[d(m,{type:"Password",modelValue:e(D),"onUpdate:modelValue":s[2]||(s[2]=l=>i(D)?D.value=l:D=l),class:"w-50 m-2",placeholder:"Password","prefix-icon":e(N),"show-password":"",clearable:""},null,8,["modelValue","prefix-icon"]),ve])],64)):e(o)?(g(),h(z,{key:1},[n("div",me,[u(d(m,{modelValue:e(c),"onUpdate:modelValue":s[3]||(s[3]=l=>i(c)?c.value=l:c=l),class:"w-50 m-2",placeholder:"Phone","prefix-icon":e(L),clearable:"",onInput:E},{append:f(()=>[u(d(w,{type:"primary",onClick:q},{default:f(()=>[S("getCode")]),_:1},512),[[p,!e(a)]]),u(n("span",null,F(e(a)),513),[[p,e(a)]])]),_:1},8,["modelValue","prefix-icon"]),[[p,e(o)==1]]),u(d(m,{modelValue:e(c),"onUpdate:modelValue":s[4]||(s[4]=l=>i(c)?c.value=l:c=l),class:"w-50 m-2",placeholder:"Phone","prefix-icon":e(L),clearable:"",onInput:E},null,8,["modelValue","prefix-icon"]),[[p,e(o)==2]]),e(t)?(g(),h("div",fe,"请检查手机号是否合规")):W("",!0)]),u(n("div",he,[d(m,{type:"Code",modelValue:e(V),"onUpdate:modelValue":s[6]||(s[6]=l=>i(V)?V.value=l:V=l),class:"w-50 m-2",placeholder:"Code","prefix-icon":e(N),"show-password":"",clearable:""},{append:f(()=>[u(d(w,{type:"primary",onClick:s[5]||(s[5]=l=>i(o)?o.value=e(o)==1?2:1:o=e(o)==1?2:1),icon:e(G)},null,8,["icon"]),[[p,!e(a)]])]),_:1},8,["modelValue","prefix-icon"])],512),[[p,e(o)==1]]),u(n("div",ge,[d(m,{type:"Password",modelValue:e(P),"onUpdate:modelValue":s[8]||(s[8]=l=>i(P)?P.value=l:P=l),class:"w-50 m-2",placeholder:"Password","prefix-icon":e(N),"show-password":"",clearable:""},{append:f(()=>[u(d(w,{type:"primary",onClick:s[7]||(s[7]=l=>i(o)?o.value=e(o)==1?2:1:o=e(o)==1?2:1),icon:e(G)},null,8,["icon"]),[[p,!e(a)]])]),_:1},8,["modelValue","prefix-icon"]),n("div",{class:"forgetPassword",onClick:s[9]||(s[9]=l=>{i(o)?o.value=3:o=3,i(t)?t.value=!1:t=!1})}," 忘记密码 ")],512),[[p,e(o)==2]])],64)):(g(),h(z,{key:2},[n("div",_e,[d(m,{modelValue:e(x),"onUpdate:modelValue":s[10]||(s[10]=l=>i(x)?x.value=l:x=l),class:"w-50 m-2",placeholder:"Phone","prefix-icon":e(L),clearable:"",onInput:E},{append:f(()=>[u(d(w,{type:"primary",onClick:q},{default:f(()=>[S("getCode")]),_:1},512),[[p,!e(a)]]),u(n("span",null,F(e(a)),513),[[p,e(a)]])]),_:1},8,["modelValue","prefix-icon"]),e(t)?(g(),h("div",we,"请检查手机号是否合规")):W("",!0)]),n("div",Ce,[d(m,{type:"Code",modelValue:e(k),"onUpdate:modelValue":s[11]||(s[11]=l=>i(k)?k.value=l:k=l),class:"w-50 m-2",placeholder:"Code","prefix-icon":e($),"show-password":"",clearable:""},null,8,["modelValue","prefix-icon"])]),n("div",ye,[d(m,{type:"Password",modelValue:e(b),"onUpdate:modelValue":s[12]||(s[12]=l=>i(b)?b.value=l:b=l),class:"w-50 m-2",placeholder:"Password","prefix-icon":e(N),"show-password":"",clearable:""},null,8,["modelValue","prefix-icon"])])],64)),n("div",Ve,[u(d(w,{type:"primary",size:"large",onClick:O},{default:f(()=>[S("Login")]),_:1},512),[[p,e(o)]]),u(d(w,{type:"primary",size:"large",onClick:J},{default:f(()=>[S("Sign")]),_:1},512),[[p,!e(o)]]),e(o)?(g(),h("div",{key:0,class:"signup",onClick:s[13]||(s[13]=l=>{i(o)?o.value=0:o=0,i(t)?t.value=!1:t=!1})}," signup ")):(g(),h("div",{key:1,class:"signup",onClick:s[14]||(s[14]=l=>{i(o)?o.value=2:o=2,i(t)?t.value=!1:t=!1})}," back "))]),Pe])])])}}});const De=ae(xe,[["__scopeId","data-v-c8c2db16"]]);export{De as default};
